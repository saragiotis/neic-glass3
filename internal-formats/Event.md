# Event Message Specification

## Description

Event is a message generated by the glasscore library. Event represents a single
detection notification made by glasscore (specifically the Hypo class), and is
used to communicate the detection's existence (if new) or update (if existing)
to the output library.  The output library utilizes the Event message in tracking
and managing detections prior to publication output,

The Event message uses the [JSON standard](http://www.json.org).

## Output
```json
    {
      "Cmd"        : "Event",
      "Pid"        : String,
      "CreateTime" : ISO8601,
      "ReportTime" : ISO8601,
      "Version"   : Number,
      "Latitude"   : Number,
      "Longitude"  : Number,
      "Depth"      : Number,
      "Time"       : ISO8601,
      "Bayes"      : Number,
      "Ndata"      : Number,
      "PubLog"    : [ Number, ...]
    }
```

## Glossary

**Values managed by glasscore library**
* Cmd - A string that identifies that this message is an Event message
* Pid - A string containing an unique identifier for this detection.
* CreateTime - A string containing the UTC time when this detection was first
created, in the ISO8601 format `YYYY-MM-DDTHH:MM:SS.SSSZ`.
* ReportTime - A string containing the UTC time when this Event message was
reported, in the ISO8601 format `YYYY-MM-DDTHH:MM:SS.SSSZ`.
* Version - An integer number containing the version of this Event message
* Latitude - A decimal number that identifies the latitude of this detection in
degrees.
* Longitude - A decimal number that identifies the longitude of this detection
in degrees.
* Depth - A decimal number that identifies the depth of this detection in
kilometers.
* Time - A string containing the UTC origin time of this detection, in the
ISO8601 format `YYYY-MM-DDTHH:MM:SS.SSSZ`.
* Bayes - A decimal number that identifies the bayesian value of this detection
* Ndata - An integer number that identifies count of data supporting this
detection

**Values managed by output library**
* PubLog - An array of integers containing the detection versions that have
been published. A zero indicates that the publication has not yet occurred.
